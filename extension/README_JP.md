# 🐒 XPathAbu — DomCatcher

![Abu Character Design](docs/abu_charsheet.jpg)

**DOMから直接XPathをかっさらう、ストリートスマートな猿。**

XPathAbuは[XPathGenie](https://github.com/goodsun/XPathGenie)ファミリーの最新メンバーとなるChrome拡張機能。ページ上の要素をクリックするだけでXPathを即座に取得し、インタラクティブなパンくずナビゲーターで絞り込みができる。

## 機能

- **🎯 クリックでキャプチャ** — DOM要素をクリックしてXPathを取得。`<a>`タグは自動で`/@href`を付与
- **🍞 パンくずナビゲーション** — XPath文字列をパースした視覚的なパス表示。クリックで上位に移動、**Shift+クリック**で`//`からの相対パスに切り替え
- **🔴 インデックスバッジ** — `div[5]`は`div`に赤い`5`バッジで表示。バッジクリックでインデックスを除去し全マッチモードに
- **📋 XPathコピー** — ワンクリックで現在のXPath（手動編集後も含む）をコピー
- **✏️ リアルタイム編集** — XPathを直接編集すると300msデバウンスで結果がリアルタイム更新
- **🔍 マルチマッチ** — XPathが複数要素にマッチした場合、全結果をリスト表示＆ハイライト（最初=紫、追加=赤）
- **🖱️ ドラッグ＆リサイズ** — ヘッダーでドラッグ移動、右下グリップでリサイズ。画面外への移動はガード付き
- **👁️ インスペクトON/OFF** — 要素選択モードと通常ページ操作を切り替え

## XPathGenieファミリー

| ツール | キャラ | 役割 |
|--------|--------|------|
| **Genie** 🧞 | ランプの精霊 | AI駆動XPath生成エンジン |
| **Jasmine** 🌸 | 姫 | インタラクティブUI＆セクション選択 |
| **Aladdin** 🔮 | 勇者 | マルチページ解析＆バリデーション |
| **Abu** 🐒 | ギャングスター猿 | DOM要素キャッチャー（本拡張） |

## インストール

1. このリポジトリをクローンまたはダウンロード
2. `chrome://extensions/` を開く
3. **デベロッパーモード**を有効化
4. **パッケージ化されていない拡張機能を読み込む** → `extension/`フォルダを選択
5. ツールバーのAbuアイコンをクリックして任意のページで起動

## 使い方

1. Chromeツールバーの**Abuアイコン**をクリック → パネルが表示
2. 要素上で**ホバー** → 紫のハイライトで範囲を表示
3. 要素を**クリック** → 入力フィールドにXPathが表示
4. XPathを**手動編集**するか、**パンくず**で上位に移動
5. パンくずを**Shift+クリック** → その要素から`//`で始まる相対パスに変換
6. **赤いインデックスバッジ**をクリック → `[n]`を除去して兄弟要素全マッチ
7. **Copy XPath** → クリップボードにコピー完了、スクレイパーへどうぞ

## 名前の由来

**Abu** = アラジンの相棒の猿 + **Abuse**（DOM abuse）。ページからデータをかっさらう小さくていたずら好きな相棒。🐒

## ライセンス

MIT — [XPathGenie](https://github.com/goodsun/XPathGenie)の一部
